<VirtualHost *:80>
        ServerName {{ domain.domain_name }}
        ServerAlias www.{{ domain.domain_name }}
        DocumentRoot /var/www/vhosts/{{ domain.domain_name }}/httpdocs

        # Force HTTPS when loading the page
        #RewriteEngine On
        #RewriteCond %{HTTPS} off
        #RewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI}

        <Directory /var/www/vhosts/{{ domain.domain_name }}/httpdocs>
                Options -Indexes +FollowSymLinks -MultiViews
                AllowOverride All
        </Directory>

{% if ansible_os_family == 'Debian' %}
        CustomLog /var/www/vhosts/{{ domain.domain_name }}/conf/access.log combined
        ErrorLog /var/www/vhosts/{{ domain.domain_name }}/conf/error.log
{% else %}
        CustomLog /var/www/vhosts/{{ domain.domain_name }}/conf/access.log combined
        ErrorLog /var/www/vhosts/{{ domain.domain_name }}/conf/error.log
{% endif %}

        # Possible values include: debug, info, notice, warn, error, crit,
        # alert, emerg.
        LogLevel warn
</VirtualHost>

#<VirtualHost *:443>
#        ServerName {{ domain.domain_name }}
#        DocumentRoot /var/www/vhosts/{{ domain.domain_name }}/httpdocs
#        <Directory /var/www/vhosts/{{ domain.domain_name }}/httpdocs>
#                Options -Indexes +FollowSymLinks -MultiViews
#                AllowOverride All
#        </Directory>
#
{% if ansible_os_family == 'Debian' %}
#        CustomLog /var/www/vhosts/{{ domain.domain_name }}/conf/ssl-access.log combined
#        ErrorLog /var/www/vhosts/{{ domain.domain_name }}/conf/ssl-error.log
{% else %}
#        CustomLog /var/www/vhosts/{{ domain.domain_name }}/conf/ssl-access.log combined
#        ErrorLog /var/www/vhosts/{{ domain.domain_name }}/conf/ssl-error.log
{% endif %}
#
#        # Possible values include: debug, info, notice, warn, error, crit,
#        # alert, emerg.
#        LogLevel warn
#
#        SSLEngine on
#        SSLCertificateFile    /etc/pki/tls/certs/2014-{{ domain.domain_name }}.crt
#        SSLCertificateKeyFile /etc/pki/tls/private/2014-{{ domain.domain_name }}.key
#        SSLCertificateChainFile /etc/pki/tls/private/2014-{{ domain.domain_name }}.ca.crt
#
#        <FilesMatch "\.(cgi|shtml|phtml|php)$">
#                SSLOptions +StdEnvVars
#        </FilesMatch>
#
#        BrowserMatch "MSIE [2-6]"                 nokeepalive ssl-unclean-shutdown                 downgrade-1.0 force-response-1.0
#        BrowserMatch "MSIE [17-9]" ssl-unclean-shutdown
#</VirtualHost>
